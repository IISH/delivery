digraph G {
    K = 2

    node [
        fontname = "DejaVu Sans"
        shape = record
    ]

    edge [
        fontcolor = "red"
        fontname = "DejaVu Sans"
        style = solid
    ]


    subgraph cluster_Models {
        label = "Models"
        mMetadata [ label = "Metadata" ]
        mReservations [ label = "Reservations" ]
        mDigitalOrders [ label = "Digital Orders" ]
        mUserManagement [ label = "User Management" ]
        mPermissionRequests [ label = "Permission Requests" ]
    }

    subgraph cluster_Controllers {
        label = "Controllers"

        cMetadata [ label = "Metadata" ]
        cReservations [ label = "Reservations" ]
        cDigitalOrders [ label = "Digital Orders" ]
        cUserManagement [ label = "User Management" ]
        cPermissionRequests [ label = "Permission Requests" ]
    }

    subgraph cluster_UI {
        label = "UI"

        uMetadata [ label = "Metadata" ]
        uReservations [ label = "Reservations" ]
        uDigitalOrders [ label = "Digital Orders" ]
        uUserManagement [ label = "User Management" ]
        uPermissionRequests [ label = "Permission Requests" ]
    }

    cluster_Models -> cluster_Controllers [ color = "darkgreen"]
    cluster_Controllers -> cluster_Models [ color = "darkgreen"]

    cluster_Controllers -> cluster_UI [ color = "darkgreen"]
    cluster_UI -> cluster_Controllers [ color = "red" style = dashed]

    API [ label = "Delivery API" ]
    API -> cluster_Controllers [ color = "red" style = dashed]
    cluster_Controllers -> API [ color = "darkgreen"]

    cluster_UI -> API [ color = "blue" style = dotted]
    API -> cluster_UI [ color = "darkgreen"]

    subgraph cluster_ExternalAPI {
        label = "External Systems"

        CAS [label = "Central Authentication Service"]
        SOR [label = "Shared Object Repository"]
        IISHAPI [label = "IISH API"]
    }

    cluster_ExternalAPI -> cluster_Controllers [ color = "darkgreen"]
    cluster_Controllers -> cluster_ExternalAPI [ color = "blue" style = dotted]

    Legend [
        color = "orange"
        style = bold
        label = <
<font color="red" point-size="16"><font point-size="20">---</font>  Control</font><br align="left"/>
<font color="darkgreen" point-size="16"><font point-size="20">―</font>  Data</font><br align="left"/>
<font color="blue" point-size="16"><font point-size="20">· ·</font>  Calls</font><br align="left"/>>
    ]
}
