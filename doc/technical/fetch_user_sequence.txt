Controller -> UserService: getByToken(cookie_token)

activate UserService
UserService -> UserDAO: getByToken(cookie_token)
deactivate UserService

activate UserDAO
UserDAO -> EntityManager: getCriteriaBuilder()
deactivate UserDAO

activate EntityManager
EntityManager --> UserDAO: b : CriteriaBuilder
deactivate EntityManager

activate UserDAO
UserDAO -> UserDAO: c = b.createQuery(User.class)
UserDAO -> UserDAO : c.where(b.equals(...get(User_.token), cookie_token)
UserDAO -> UserDAO: u = c.getSingleResult()
UserDAO --> UserService: u : User
deactivate UserDAO

activate UserService
UserService --> Controller: u : User
deactivate UserService
