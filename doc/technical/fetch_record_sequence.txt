Controller -> RecordService: getByPId(pid)

activate RecordService
RecordService -> RecordDAO: getByPId(pid)
deactivate RecordService

activate RecordDAO
RecordDAO -> EntityManager:  getCriteriaBuilder()
deactivate RecordDAO

activate EntityManager
EntityManager --> RecordDAO: b : CriteriaBuilder
deactivate EntityManager

activate RecordDAO
RecordDAO -> RecordDAO: c = b.createQuery(Record.class)
RecordDAO -> RecordDAO: c.where(b.equals(...get(Record_.pid), pid)
RecordDAO -> RecordDAO: r = c.getSingleResult()
RecordDAO --> RecordService: r : Record
deactivate RecordDAO

activate RecordService
RecordService --> Controller: r : Record
deactivate RecordService
